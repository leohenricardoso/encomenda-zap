/* ─── Tailwind v4 ─────────────────────────────────────────────────────────────
   @import replaces the old @tailwind base/components/utilities directives.
   All custom tokens go inside @theme — Tailwind generates utilities from them.
   ─────────────────────────────────────────────────────────────────────────── */
@import "tailwindcss";

/* ─── Design Tokens ──────────────────────────────────────────────────────────
   Single source of truth for the entire UI system.
   Each --color-* entry in @theme becomes a full set of Tailwind utilities:
     bg-surface, text-foreground, border-line, ring-accent, etc.
   ─────────────────────────────────────────────────────────────────────────── */
@theme {
  /* Typography — Inter loaded via next/font; --font-inter is injected at <html> */
  --font-sans:
    var(--font-inter), -apple-system, BlinkMacSystemFont, "Segoe UI",
    "Helvetica Neue", Arial, sans-serif;

  /* ── Surfaces ── */
  --color-surface: #ffffff; /* Page/card background */
  --color-surface-subtle: #f8fafc; /* App background (slightly off-white) */
  --color-surface-hover: #f1f5f9; /* Hover on list items, etc. */

  /* ── Foreground / text ── */
  --color-foreground: #0f172a; /* Primary text — slate-900 */
  --color-foreground-muted: #64748b; /* Secondary text — slate-500 */

  /* ── Brand accent (used for links, focus rings) ── */
  --color-accent: #3b82f6; /* blue-500 */
  --color-accent-hover: #2563eb; /* blue-600 */

  /* ── Borders ── */
  --color-line: #e2e8f0; /* Default border — slate-200 */
  --color-line-strong: #cbd5e1; /* Stronger border / input — slate-300 */

  /* ── Semantic ── */
  --color-danger: #ef4444; /* Errors — red-500 */

  /* ── Spacing scale ── */
  --radius-sm: 0.375rem; /* 6px */
  --radius-md: 0.5rem; /* 8px */
  --radius-lg: 0.75rem; /* 12px */
  --radius-xl: 1rem; /* 16px */
}

/* ─── RGB Design Tokens (CSS Custom Properties) ──────────────────────────────
   Raw RGB channel values — enables alpha composition via rgb(var(--color-*))
   and bg-[rgb(var(--color-*))] arbitrary Tailwind values when needed.
   These mirror the @theme hex values above.
   ─────────────────────────────────────────────────────────────────────────── */
:root {
  --color-bg: 255 255 255; /* surface */
  --color-bg-muted: 248 250 252; /* surface-subtle */
  --color-primary: 15 23 42; /* foreground */
  --color-primary-foreground: 255 255 255; /* on-dark text */
  --color-accent: 59 130 246; /* accent blue-500 */
  --color-border: 226 232 240; /* line */
  --color-text: 15 23 42; /* foreground */
  --color-text-muted: 100 116 139; /* foreground-muted */

  /* Layout */
  --sidebar-width: 15rem; /* 240px */
}

/* ─── Base Resets ────────────────────────────────────────────────────────────
   Extends Tailwind's built-in preflight with app-level defaults.
   ─────────────────────────────────────────────────────────────────────────── */
@layer base {
  *,
  *::before,
  *::after {
    border-color: var(--color-line);
  }

  html {
    /* Prevents layout shift from scrollbar appearing */
    scrollbar-gutter: stable;
  }

  body {
    background-color: var(--color-surface-subtle);
    color: var(--color-foreground);
    font-family: var(--font-sans);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* ─── Component Utilities ────────────────────────────────────────────────────
   Reusable patterns referenced across multiple components.
   ─────────────────────────────────────────────────────────────────────────── */
@layer utilities {
  /* Consistent focus ring — apply with .ring-focus on interactive elements */
  .ring-focus {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2;
  }
}
